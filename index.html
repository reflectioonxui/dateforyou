<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–î–ª—è —Ç–µ–±—è ‚Äî –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π —Å–µ–∫—Ä–µ—Ç</title>

  <style>
    :root{
      --night: #0b1022;
      --night-2:#101a36;
      --ice: #bfe7ff;
      --ice-soft:#e8f6ff;
      --berry:#ff4f8a;
      --berry-2:#ff7bb0;
      --gold:#ffd36a;
      --card: rgba(255,255,255,.92);
      --dark: #1b1320;
    }

    *{ box-sizing: border-box; }

    body{
      margin:0;
      min-height:100vh;
      padding:18px;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--dark);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow-x:hidden;

      /* –ù–æ—á—å + —Å–∏—è–Ω–∏–µ */
      background:
        radial-gradient(1200px 800px at 20% -10%, rgba(126, 231, 255, .35), transparent 55%),
        radial-gradient(900px 650px at 85% 0%, rgba(255, 123, 176, .22), transparent 60%),
        radial-gradient(600px 500px at 50% 100%, rgba(255, 211, 106, .12), transparent 60%),
        linear-gradient(180deg, var(--night), var(--night-2));
    }

    /* –ó–≤—ë–∑–¥–æ—á–∫–∏ (—Ñ–æ–Ω) */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      pointer-events:none;
      z-index:0;
      opacity:.55;
      background:
        radial-gradient(circle at 12% 18%, rgba(255,255,255,.75) 0 1px, transparent 2px),
        radial-gradient(circle at 28% 35%, rgba(255,255,255,.65) 0 1px, transparent 2px),
        radial-gradient(circle at 44% 22%, rgba(255,255,255,.55) 0 1px, transparent 2px),
        radial-gradient(circle at 63% 30%, rgba(255,255,255,.70) 0 1px, transparent 2px),
        radial-gradient(circle at 78% 18%, rgba(255,255,255,.60) 0 1px, transparent 2px),
        radial-gradient(circle at 88% 42%, rgba(255,255,255,.58) 0 1px, transparent 2px),
        radial-gradient(circle at 20% 70%, rgba(255,255,255,.58) 0 1px, transparent 2px),
        radial-gradient(circle at 52% 78%, rgba(255,255,255,.68) 0 1px, transparent 2px),
        radial-gradient(circle at 74% 72%, rgba(255,255,255,.52) 0 1px, transparent 2px),
        radial-gradient(circle at 90% 80%, rgba(255,255,255,.62) 0 1px, transparent 2px);
      filter: blur(.15px);
    }

    .wrapper{
      width:100%;
      max-width:520px;
      position:relative;
      z-index:2;
    }

    /* –°–Ω–µ–≥ */
    .snow{
      position: fixed;
      inset:0;
      overflow:hidden;
      pointer-events:none;
      z-index:1;
    }
    .snow span{
      position:absolute;
      top:-10vh;
      opacity:.8;
      will-change: transform;
      animation: snowFall linear infinite;
      text-shadow: 0 8px 18px rgba(0,0,0,.25);
      user-select:none;
    }
    @keyframes snowFall{
      0%   { transform: translate3d(0,-10vh,0) rotate(0deg); opacity:0; }
      10%  { opacity:.9; }
      100% { transform: translate3d(var(--drift, 40px), 110vh, 0) rotate(360deg); opacity:.9; }
    }

    /* –õ–µ—Ç–∞—é—â–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ (—á—É—Ç—å-—á—É—Ç—å ‚Äî —Ä–æ–º–∞–Ω—Ç–∏–∫–∞) */
    .hearts{
      position: fixed;
      inset:0;
      overflow:hidden;
      pointer-events:none;
      z-index:1;
      mix-blend-mode: screen;
    }
    .hearts span{
      position:absolute;
      bottom:-12vh;
      font-size: 18px;
      opacity:.22;
      animation: floatUp 16s linear infinite;
      color: rgba(255, 123, 176, .95);
      text-shadow: 0 10px 24px rgba(0,0,0,.2);
      user-select:none;
    }
    @keyframes floatUp{
      0%   { transform: translateY(0) translateX(0); opacity:0; }
      12%  { opacity:.25; }
      100% { transform: translateY(-115vh) translateX(30px); opacity:0; }
    }

    /* –ì–∏—Ä–ª—è–Ω–¥–∞ */
    .garland{
      position: fixed;
      left: 0;
      right: 0;
      top: 0;
      height: 78px;
      pointer-events:none;
      z-index: 3;
      opacity: .95;
    }
    .wire{
      position:absolute;
      left:-10px;
      right:-10px;
      top: 22px;
      height: 60px;
      border-top: 3px solid rgba(255,255,255,.22);
      border-radius: 0 0 70% 70%;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,.28));
    }
    .bulbs{
      position:absolute;
      left:0;
      right:0;
      top: 10px;
      display:flex;
      justify-content: space-evenly;
      gap: 8px;
      padding: 0 10px;
    }
    .bulb{
      width: 12px;
      height: 12px;
      border-radius: 999px;
      background: rgba(255,211,106,.85);
      box-shadow: 0 0 22px rgba(255, 211, 106, .55);
      animation: twinkle 1.8s ease-in-out infinite;
      transform: translateY(18px);
      opacity: .9;
    }
    .bulb:nth-child(2n){ background: rgba(191,231,255,.9); box-shadow: 0 0 22px rgba(191,231,255,.55); animation-delay: .4s; }
    .bulb:nth-child(3n){ background: rgba(255, 123, 176, .9); box-shadow: 0 0 22px rgba(255, 123, 176, .5); animation-delay: .8s; }
    @keyframes twinkle{
      0%,100%{ transform: translateY(18px) scale(1); filter: brightness(1); }
      50%    { transform: translateY(18px) scale(1.22); filter: brightness(1.2); }
    }

    /* –ö–∞—Ä—Ç–æ—á–∫–∞ */
    .card{
      background: var(--card);
      border-radius: 24px;
      padding: 24px 22px 22px;
      box-shadow: 0 22px 60px rgba(0,0,0,.32);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255,255,255,.25);
      position: relative;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(280px 180px at 15% 0%, rgba(191,231,255,.55), transparent 60%),
        radial-gradient(320px 220px at 90% 10%, rgba(255, 123, 176, .35), transparent 60%);
      opacity: .7;
      pointer-events:none;
      filter: blur(0.2px);
    }
    .card > *{ position:relative; z-index:1; }

    .center{ text-align:center; }

    .title-main{
      margin: 0 0 6px;
      font-size: 24px;
      font-weight: 760;
      letter-spacing: .2px;
    }
    .subtitle{
      margin:0;
      font-size:14px;
      opacity:.78;
      line-height: 1.35;
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(16, 26, 54, .08);
      border: 1px solid rgba(16, 26, 54, .08);
      font-size: 12px;
      margin: 10px 0 0;
    }

    .heart-big{
      font-size: 30px;
      margin-bottom: 8px;
      animation: beat 1.4s infinite;
    }
    @keyframes beat{
      0%,40%,80%,100%{ transform: scale(1); }
      20%,60%{ transform: scale(1.2); }
    }

    .input-row{ margin-top: 18px; }
    label{
      display:block;
      font-size: 13px;
      margin-bottom: 6px;
      opacity: .85;
    }
    input[type="password"]{
      width:100%;
      padding: 11px 13px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,.12);
      font-size: 15px;
      outline:none;
      background: #fff;
      transition: border-color .2s, box-shadow .2s, transform .1s;
    }
    input[type="password"]:focus{
      border-color: rgba(255,79,138,.7);
      box-shadow: 0 0 0 2px rgba(255,79,138,.18);
      transform: translateY(-1px);
    }

    .btn{
      margin-top: 14px;
      width:100%;
      border:none;
      border-radius: 999px;
      padding: 11px 14px;
      background: linear-gradient(135deg, var(--berry-2), var(--berry));
      color:#fff;
      font-weight: 700;
      font-size: 15px;
      cursor:pointer;
      box-shadow: 0 14px 32px rgba(255, 79, 138, .28);
      transition: transform .12s ease, box-shadow .12s ease, filter .1s;
    }
    .btn:hover{
      transform: translateY(-1px);
      box-shadow: 0 18px 40px rgba(255, 79, 138, .34);
      filter: brightness(1.02);
    }
    .btn:active{
      transform: translateY(0);
      box-shadow: 0 10px 22px rgba(255, 79, 138, .26);
      filter: brightness(.98);
    }

    .hint{
      margin-top: 8px;
      font-size: 12px;
      opacity: .75;
      line-height: 1.35;
    }
    .error{
      margin-top: 8px;
      font-size: 12px;
      color: #d43b57;
      min-height: 16px;
    }

    .hidden{ display:none; }
    .shake{ animation: shake .4s; }
    @keyframes shake{
      0%,100%{ transform: translateX(0); }
      20%{ transform: translateX(-6px); }
      40%{ transform: translateX(6px); }
      60%{ transform: translateX(-4px); }
      80%{ transform: translateX(4px); }
    }

    /* –≠–∫—Ä–∞–Ω –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è */
    .invite-card{ opacity:0; transform: translateY(24px) scale(.96); }
    body.invite-visible .invite-card{
      animation: showCard .75s cubic-bezier(.16,.82,.29,1) forwards;
    }
    @keyframes showCard{
      0%{ opacity:0; transform: translateY(24px) scale(.96); }
      100%{ opacity:1; transform: translateY(0) scale(1); }
    }

    .tag-row{ margin: 14px 0 8px; }
    .tag{
      display:inline-block;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: rgba(16, 26, 54, .08);
      border: 1px solid rgba(16, 26, 54, .06);
      margin-right: 6px;
      margin-top: 6px;
    }

    .rows{ font-size: 14px; margin-top: 10px; }
    .row{ margin: 7px 0; display:flex; align-items: baseline; gap: 6px; }
    .label{ font-weight: 700; min-width: 92px; }

    a{
      color: #b43660;
      text-decoration:none;
      border-bottom: 1px dashed rgba(180,54,96,.55);
    }
    a:hover{ border-bottom-style: solid; }

    .divider{
      margin: 16px 0 14px;
      border:none;
      border-top: 1px dashed rgba(0,0,0,.18);
    }

    .note{
      margin-top: 12px;
      font-size: 13px;
      opacity: .9;
      line-height: 1.4;
    }

    /* –¢–∞–π–º–µ—Ä */
    .countdown{
      margin-top: 12px;
      padding: 12px 12px;
      border-radius: 18px;
      background: rgba(191,231,255,.26);
      border: 1px solid rgba(191,231,255,.35);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
    }
    .countdown .cap{
      font-size: 12px;
      opacity: .8;
      line-height: 1.2;
    }
    .time-grid{
      display:flex;
      gap: 8px;
      flex-wrap: wrap;
      justify-content:flex-end;
    }
    .time-box{
      min-width: 68px;
      padding: 8px 10px;
      border-radius: 14px;
      background: rgba(255,255,255,.85);
      border: 1px solid rgba(0,0,0,.06);
      text-align:center;
    }
    .time-box b{
      display:block;
      font-size: 16px;
      line-height: 1.05;
      letter-spacing: .3px;
    }
    .time-box span{
      display:block;
      font-size: 11px;
      opacity: .75;
      margin-top: 2px;
    }

    /* –ü–∏—Å—å–º–æ (typewriter) */
    .letter{
      margin-top: 14px;
      padding: 14px 14px;
      border-radius: 18px;
      background: rgba(255, 211, 106, .14);
      border: 1px solid rgba(255, 211, 106, .22);
    }
    .letter .head{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }
    .letter .head b{
      font-size: 13px;
    }
    .pill{
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.7);
      border: 1px solid rgba(0,0,0,.06);
      opacity: .9;
    }
    .type{
      font-size: 13px;
      line-height: 1.45;
      min-height: 54px;
      white-space: pre-wrap;
    }
    .cursor{
      display:inline-block;
      width: 8px;
      margin-left: 2px;
      animation: blink 1.0s step-end infinite;
      opacity:.8;
    }
    @keyframes blink{ 50%{ opacity: 0; } }

    /* –°—é—Ä–ø—Ä–∏–∑-–ø–æ–¥–∞—Ä–æ–∫ */
    .gift{
      margin-top: 14px;
      padding: 14px;
      border-radius: 18px;
      background: rgba(255, 123, 176, .10);
      border: 1px solid rgba(255, 123, 176, .18);
    }
    .gift-row{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
    }
    .gift h3{
      margin:0;
      font-size: 14px;
      font-weight: 800;
    }
    .gift p{
      margin: 6px 0 0;
      font-size: 12px;
      opacity: .82;
      line-height: 1.35;
    }
    .gift-btn{
      border:none;
      cursor:pointer;
      border-radius: 16px;
      padding: 10px 12px;
      background: linear-gradient(135deg, rgba(191,231,255,.95), rgba(255, 211, 106, .95));
      box-shadow: 0 10px 22px rgba(0,0,0,.16);
      font-weight: 800;
      font-size: 12px;
      white-space: nowrap;
      transition: transform .12s ease, filter .1s;
    }
    .gift-btn:hover{ transform: translateY(-1px); filter: brightness(1.02); }
    .gift-btn:active{ transform: translateY(0); filter: brightness(.98); }

    .surprise{
      margin-top: 10px;
      padding: 12px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(0,0,0,.06);
      display:none;
    }
    .surprise.show{ display:block; animation: pop .35s ease-out; }
    @keyframes pop{
      0%{ transform: scale(.98); opacity: 0; }
      100%{ transform: scale(1); opacity: 1; }
    }
    .surprise b{ display:block; margin-bottom: 4px; }
    .surprise .tiny{ font-size: 11px; opacity: .75; margin-top: 6px; }

    /* –°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π */
    .checklist{
      margin-top: 12px;
      padding: 14px 14px;
      border-radius: 18px;
      background: rgba(16, 26, 54, .06);
      border: 1px solid rgba(16, 26, 54, .08);
    }
    .checklist h3{
      margin:0 0 10px;
      font-size: 14px;
      font-weight: 800;
    }
    .check{
      display:flex;
      gap: 10px;
      align-items:flex-start;
      margin: 8px 0;
      font-size: 13px;
      line-height: 1.25;
    }
    .check input{
      margin-top: 2px;
      width: 18px;
      height: 18px;
      accent-color: var(--berry);
    }
    .check small{ display:block; opacity: .72; margin-top: 2px; }

    /* –§–æ—Ç–æ –≤ "–ø–æ–ª–∞—Ä–æ–∏–¥–µ" */
    .photos{ margin-top: 14px; }
    .photos h3{
      margin: 0 0 10px;
      font-size: 15px;
      font-weight: 800;
      text-align:center;
    }
    .photo-main{ display:flex; justify-content:center; margin: 10px 0 6px; }
    .photo-frame-main{
      position:relative;
      background: #fff;
      padding: 10px 10px 14px;
      border-radius: 22px;
      border: 2px solid rgba(191,231,255,.65);
      box-shadow: 0 16px 34px rgba(0,0,0,.22);
      width: 82%;
      max-width: 360px;
      opacity: 0;
      transform: translateY(18px) scale(.94) rotate(-1.2deg);
    }
    .photo-frame-main img{
      width:100%;
      display:block;
      border-radius: 18px;
      max-height: 380px;
      object-fit: cover;
    }
    .photo-frame-main figcaption{
      margin-top: 8px;
      font-size: 12px;
      opacity:.82;
      text-align:center;
    }
    .photo-frame-main::before{
      content:"";
      position:absolute;
      width: 48%;
      height: 14px;
      background: rgba(255,255,255,.9);
      top: -6px;
      left: 50%;
      transform: translateX(-50%) rotate(-3deg);
      border-radius: 4px;
      box-shadow: 0 4px 10px rgba(0,0,0,.18);
    }
    body.invite-visible .photo-frame-main{
      animation: mainPhotoIn .7s ease-out forwards;
      animation-delay: .35s;
    }
    @keyframes mainPhotoIn{
      0%{ opacity:0; transform: translateY(18px) scale(.94) rotate(-1.2deg); }
      100%{ opacity:1; transform: translateY(0) scale(1) rotate(-.6deg); }
    }

    /* –ú—É–∑—ã–∫–∞ */
    .music-toggle{
      position: fixed;
      right: 14px;
      bottom: 14px;
      z-index: 10;
      border:none;
      border-radius: 999px;
      padding: 10px 12px;
      font-weight: 800;
      cursor:pointer;
      background: rgba(255,255,255,.9);
      border: 1px solid rgba(255,255,255,.25);
      box-shadow: 0 14px 30px rgba(0,0,0,.25);
      backdrop-filter: blur(10px);
      display:flex;
      align-items:center;
      gap: 8px;
      transition: transform .12s ease, filter .1s;
    }
    .music-toggle:hover{ transform: translateY(-1px); filter: brightness(1.02); }
    .music-toggle:active{ transform: translateY(0); filter: brightness(.98); }
    .music-dot{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: rgba(255,79,138,.85);
      box-shadow: 0 0 18px rgba(255,79,138,.45);
    }
    .music-toggle.off .music-dot{
      background: rgba(0,0,0,.25);
      box-shadow: none;
    }
    .music-toggle span{
      font-size: 12px;
      opacity: .9;
      white-space: nowrap;
    }

    /* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ */
    .confetti{
      position: fixed;
      inset:0;
      pointer-events:none;
      z-index: 9;
      overflow:hidden;
      display:none;
    }
    .confetti.show{ display:block; }
    .confetti i{
      position:absolute;
      top: -10vh;
      font-style: normal;
      opacity: .95;
      animation: confettiFall linear forwards;
      text-shadow: 0 10px 18px rgba(0,0,0,.22);
      user-select:none;
    }
    @keyframes confettiFall{
      0%   { transform: translateY(-10vh) rotate(0deg); }
      100% { transform: translateY(110vh) rotate(360deg); }
    }

    /* –ê–¥–∞–ø—Ç–∏–≤ */
    @media (max-width: 360px){
      .card{ padding: 20px 16px 20px; }
      .time-box{ min-width: 62px; }
      .label{ min-width: 84px; }
    }
  </style>
</head>

<body>
  <!-- –ú—É–∑—ã–∫–∞ (–ø–æ–ª–æ–∂–∏ music.mp3 —Ä—è–¥–æ–º —Å —Ñ–∞–π–ª–æ–º) -->
  <audio id="bg-music" src="music.mp3" preload="auto" loop></audio>

  <!-- –ì–∏—Ä–ª—è–Ω–¥–∞ -->
  <div class="garland" aria-hidden="true">
    <div class="wire"></div>
    <div class="bulbs">
      <div class="bulb"></div><div class="bulb"></div><div class="bulb"></div><div class="bulb"></div>
      <div class="bulb"></div><div class="bulb"></div><div class="bulb"></div><div class="bulb"></div>
      <div class="bulb"></div><div class="bulb"></div><div class="bulb"></div>
    </div>
  </div>

  <!-- –°–Ω–µ–≥ + —Å–µ—Ä–¥–µ—á–∫–∏ -->
  <div class="snow" id="snow" aria-hidden="true"></div>
  <div class="hearts" aria-hidden="true">
    <span style="left:10%; animation-delay:0s; font-size:18px;">‚ô•</span>
    <span style="left:26%; animation-delay:3s; font-size:16px;">‚ô•</span>
    <span style="left:52%; animation-delay:6s; font-size:20px;">‚ô•</span>
    <span style="left:74%; animation-delay:1s; font-size:17px;">‚ô•</span>
    <span style="left:90%; animation-delay:4s; font-size:15px;">‚ô•</span>
  </div>

  <!-- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –¥–ª—è —Å—é—Ä–ø—Ä–∏–∑–∞ -->
  <div class="confetti" id="confetti" aria-hidden="true"></div>

  <div class="wrapper">

    <!-- –≠–ö–†–ê–ù –ü–ê–†–û–õ–Ø -->
    <div id="password-screen" class="card">
      <div class="center">
        <div class="heart-big">üéÑ‚ù§Ô∏è</div>
        <h1 class="title-main">–ù–µ–±–æ–ª—å—à–æ–π –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π —Å–µ–∫—Ä–µ—Ç</h1>
        <p class="subtitle">–û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–æ–º—É, –∫—Ç–æ –∑–Ω–∞–µ—Ç –æ–¥–Ω—É –≤–∞–∂–Ω—É—é –¥–∞—Ç—É ‚ú®</p>
        <div class="badge">‚ùÑÔ∏è <b>–∑–∏–º–Ω–∏–π —Ä–µ–∂–∏–º</b> ‚Ä¢ üíå <span>—Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π</span></div>
      </div>

      <div class="input-row">
        <label for="password-input">–ü–∞—Ä–æ–ª—å</label>
        <input id="password-input" type="password" autocomplete="off" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" />
        <button id="password-button" class="btn">–û—Ç–∫—Ä—ã—Ç—å</button>
        <div id="password-error" class="error"></div>
        <div class="hint">
          –ü–æ–¥—Å–∫–∞–∑–∫–∞: –î–∞—Ç–∞ –¥–æ –∫–∞–∫–æ–≥–æ —á–∏—Å–ª–∞ –º—ã –¥–æ–ª–∂–Ω—ã –ø–æ–∂–µ–Ω–∏—Ç—å—Å—è <b>–î–î–ú–ú–ì–ì</b> –±–µ–∑ —Ç–æ—á–µ–∫.<br/>
          (–ù–∞–ø—Ä–∏–º–µ—Ä: 01012026) ‚ú®
        </div>
      </div>
    </div>

    <!-- –≠–ö–†–ê–ù –ü–†–ò–ì–õ–ê–®–ï–ù–ò–Ø -->
    <div id="invite-screen" class="hidden">
      <div class="card invite-card">
        <div class="center">
          <div class="heart-big">üíå‚ú®</div>
          <h1 class="title-main">–ù–æ–≤–æ–≥–æ–¥–Ω–µ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</h1>
          <p class="subtitle">–•–æ—á—É –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —ç—Ç–æ—Ç —Å–µ–∑–æ–Ω —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π ‚Äî —Ç–µ–ø–ª–æ, –∫—Ä–∞—Å–∏–≤–æ –∏ –ø–æ‚Äë–Ω–∞—Å—Ç–æ—è—â–µ–º—É.</p>
        </div>

        <div class="tag-row center">
          <span class="tag">üéÑ –£—é—Ç–Ω—ã–π –≤–µ—á–µ—Ä</span>
          <span class="tag">‚ú® –¢–æ–ª—å–∫–æ –º—ã</span>
          <span class="tag">ü•Ç –¢–æ—Å—Ç –∑–∞ –Ω–∞—Å</span>
        </div>

        <!-- –î–ê–ù–ù–´–ï (–º–æ–∂–µ—à—å –ø–æ–º–µ–Ω—è—Ç—å –ø–æ–¥ —Å–µ–±—è) -->
        <div class="rows" id="rows">
          <div class="row"><span class="label">–î–∞—Ç–∞:</span><span id="event-date-text">15.12.2025</span></div>
          <div class="row"><span class="label">–í—Ä–µ–º—è:</span><span id="event-time-text">21:05</span></div>
          <div class="row"><span class="label">–ú–µ—Å—Ç–æ:</span><span id="event-place-text">–ö–∏–Ω–æ—Ç–µ–∞—Ç—Ä</span></div>
          <div class="row">
            <span class="label">–ê–¥—Ä–µ—Å:</span>
            <span>
              <a id="event-link" href="http://2gis.kz/almaty/firm/70000001034505578" target="_blank" rel="noreferrer">
                –æ—Ç–∫—Ä—ã—Ç—å –≤ 2GIS
              </a>
            </span>
          </div>
          <div class="row"><span class="label">–î—Ä–µ—Å—Å‚Äë–∫–æ–¥:</span><span>–ª—é–±–æ–π ‚Äî —Ç—ã –≤—Å–µ–≥–¥–∞ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω–∞—è ‚ú®</span></div>
          <div class="row"><span class="label">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ:</span><span>—Ç—ë–ø–ª–æ–µ, –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ, —Ä–æ–º–∞–Ω—Ç–∏—á–Ω–æ–µ</span></div>
          <div class="row"><span class="label">–£—Ä–æ–≤–µ–Ω—å:</span><span>–≤–ª—é–±–ª—ë–Ω–Ω–æ—Å—Ç—å √ó‚àû</span></div>
        </div>

        <!-- –¢–∞–π–º–µ—Ä -->
        <div class="countdown" role="status" aria-live="polite">
          <div class="cap">
            –î–æ –Ω–∞—à–µ–≥–æ –Ω–æ–≤–æ–≥–æ–¥–Ω–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –æ—Å—Ç–∞–ª–æ—Å—å:
          </div>
          <div class="time-grid" id="countdown">
            <div class="time-box"><b id="cd-d">‚Äî</b><span>–¥–Ω–µ–π</span></div>
            <div class="time-box"><b id="cd-h">‚Äî</b><span>—á–∞—Å–æ–≤</span></div>
            <div class="time-box"><b id="cd-m">‚Äî</b><span>–º–∏–Ω—É—Ç</span></div>
            <div class="time-box"><b id="cd-s">‚Äî</b><span>—Å–µ–∫—É–Ω–¥</span></div>
          </div>
        </div>

        <!-- –ü–∏—Å—å–º–æ -->
        <div class="letter">
          <div class="head">
            <b>–ü–∏—Å—å–º–æ –Ω–∞ —Å–Ω–µ–∂–∏–Ω–∫–µ</b>
            <span class="pill"></span>
          </div>
          <div class="type" id="typewriter"></div>
        </div>

        <hr class="divider" />

        <div class="note">
          –ï—Å–ª–∏ —Ç—ã –≤–∏–¥–∏—à—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—á–∫—É ‚Äî –∑–Ω–∞—á–∏—Ç –∫—Ç–æ‚Äë—Ç–æ —É–∂–µ —É–ª—ã–±–∞–µ—Ç—Å—è,
          –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—è, –∫–∞–∫ –º—ã –∏–¥—ë–º —Ä—è–¥–æ–º, –∞ –≤–æ–∫—Ä—É–≥ –≥–∏—Ä–ª—è–Ω–¥—ã –∏ —Å–Ω–µ–≥ ‚ú®üíó
        </div>

        <!-- –°—é—Ä–ø—Ä–∏–∑ -->
        <div class="gift">
          <div class="gift-row">
            <div>
              <h3>üéÅ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–π —Å—é—Ä–ø—Ä–∏–∑</h3>
              <p>–ù–∞–∂–º–∏ ‚Äî –∏ —è –ø–æ–∫–∞–∂—É –º–∞–ª–µ–Ω—å–∫–æ–µ –æ–±–µ—â–∞–Ω–∏–µ –Ω–∞ –Ω–∞—à –≤–µ—á–µ—Ä.</p>
            </div>
            <button class="gift-btn" id="gift-btn" type="button">–û—Ç–∫—Ä—ã—Ç—å</button>
          </div>
          <div class="surprise" id="surprise">
            <b id="surprise-title">‚Ä¶</b>
            <div id="surprise-text">‚Ä¶</div>
            <div class="tiny">–ú–æ–∂–Ω–æ –Ω–∞–∂–∏–º–∞—Ç—å —Å–Ω–æ–≤–∞ ‚Äî —Å—é—Ä–ø—Ä–∏–∑—ã –º–µ–Ω—è—é—Ç—Å—è üòâ</div>
          </div>
        </div>

        <!-- –°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–Ω–∏–π -->
        <div class="checklist">
          <h3>‚ú® –ù–∞—à –º–∏–Ω–∏‚Äë–ø–ª–∞–Ω</h3>
          <label class="check">
            <input type="checkbox" data-key="walk" />
            <div>
              –ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ–¥ –æ–≥–æ–Ω—å–∫–∞–º–∏
              <small>10 –º–∏–Ω—É—Ç –∏–ª–∏ 2 —á–∞—Å–∞ ‚Äî –∫–∞–∫ –∑–∞—Ö–æ—á–µ—Ç—Å—è.</small>
            </div>
          </label>
          <label class="check">
            <input type="checkbox" data-key="toast" />
            <div>
              –¢–æ—Å—Ç –∑–∞ –Ω–∞—Å
              <small>–∑–∞ –≤—Å—ë —Ö–æ—Ä–æ—à–µ–µ, —á—Ç–æ —É–∂–µ –µ—Å—Ç—å –∏ —á—Ç–æ –µ—â—ë –±—É–¥–µ—Ç.</small>
            </div>
          </label>
          <label class="check">
            <input type="checkbox" data-key="hug" />
            <div>
              –°–∞–º—ã–µ —Ç—ë–ø–ª—ã–µ –æ–±—ä—è—Ç–∏—è
              <small>–Ω–µ –æ–±—Å—É–∂–¥–∞–µ—Ç—Å—è üíó</small>
            </div>
          </label>
        </div>

        <!-- –§–æ—Ç–æ -->
        <div class="photos">
          <h3>–ù–∞—à –º–æ–º–µ–Ω—Ç ‚ùÑÔ∏è</h3>
          <div class="photo-main">
            <figure class="photo-frame-main">
              <img src="photo1.jpg" alt="–ù–∞—à –º–æ–º–µ–Ω—Ç" onerror="this.style.display='none'; this.parentElement.querySelector('.fallback').style.display='block';" />
              <div class="fallback" style="display:none; padding: 26px 12px; text-align:center; border-radius:18px; background: rgba(191,231,255,.18); border:1px dashed rgba(0,0,0,.18);">
                <b>photo1.jpg –Ω–µ –Ω–∞–π–¥–µ–Ω</b><br/>
                <span style="font-size:12px; opacity:.8;">–ü–æ–ª–æ–∂–∏ —Ñ–æ—Ç–æ —Ä—è–¥–æ–º —Å —Ñ–∞–π–ª–æ–º, —á—Ç–æ–±—ã –æ–Ω–æ –ø–æ—è–≤–∏–ª–æ—Å—å –∑–¥–µ—Å—å ‚ú®</span>
              </div>
              <figcaption>–ò —ç—Ç–æ —Ç–æ–ª—å–∫–æ –º–∞–ª–µ–Ω—å–∫–∞—è —á–∞—Å—Ç—å —Ç–æ–≥–æ, –∫–∞–∫ –∫—Ä–∞—Å–∏–≤–æ –º—ã —Å–º–æ—Ç—Ä–∏–º—Å—è –≤–º–µ—Å—Ç–µ.</figcaption>
            </figure>
          </div>
        </div>

      </div>
    </div>

  </div>

  <!-- –ö–Ω–æ–ø–∫–∞ –º—É–∑—ã–∫–∏ (—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–∫–∞/–≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è) -->
  <button class="music-toggle off" id="music-toggle" type="button" aria-label="–ú—É–∑—ã–∫–∞">
    <div class="music-dot" aria-hidden="true"></div>
    <span id="music-text">–º—É–∑—ã–∫–∞ –≤—ã–∫–ª</span>
  </button>

  <script>
    (function () {
      // ====== –ù–ê–°–¢–†–û–ô–ö–ò (–º–æ–∂–µ—à—å –ø–æ–º–µ–Ω—è—Ç—å) ======
      // –ü–∞—Ä–æ–ª—å (–∫–∞–∫ –∏ —Ä–∞–Ω—å—à–µ): –≤–∞–∂–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –î–î–ú–ú–ì–ì
      const PASS = "31082026";

      // –î–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Ç–∞–π–º–µ—Ä–∞ (–≤ —Ñ–æ—Ä–º–∞—Ç–µ "YYYY-MM-DDTHH:MM:SS")
      // –ü—Ä–∏–º–µ—Ä: 2025-12-31T19:30:00
      const EVENT_ISO = "2025-12-15T21:05:00";

      // –¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞ (–±—É–¥–µ—Ç –ø–µ—á–∞—Ç–∞—Ç—å—Å—è)
      const LETTER_TEXT =
        "–≠—Ç–æ—Ç –≥–æ–¥ –±—ã–ª —Å–ª–æ–∂–Ω—ã–º, –Ω–æ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π –¥–µ–ª–∞–ª –≤—Å—ë –≤–æ–∫—Ä—É–≥ —è—Ä—á–µ. –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –±—ã–ª–∞ —Ä—è–¥–æ–º, —á—Ç–æ –¥–µ—Ä–∂–∞–ª–∞ –º–æ—é —Ä—É–∫—É –∏ —Ä–∞–∑–¥–µ–ª—è–ª–∞ —Å–æ –º–Ω–æ–π –≤—Å–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏. üíñ\n" +
        "–Ø –º–µ—á—Ç–∞—é, —á—Ç–æ –∫ –∫–æ–Ω—Ü—É –ª–µ—Ç–∞ –º—ã —Å—Ç–∞–Ω–µ–º –º—É–∂–µ–º –∏ –∂–µ–Ω–æ–π, –∏ –Ω–∞—à –¥–æ–º –Ω–∞–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–µ–ø–ª–æ–º, —Å–º–µ—Ö–æ–º –∏ —Å—á–∞—Å—Ç—å–µ–º. –Ø –±—É–¥—É —Ä—è–¥–æ–º, –∑–∞—â–∏—â–∞—Ç—å —Ç–µ–±—è –∏ –¥–µ–ª–∞—Ç—å –≤—Å—ë, —á—Ç–æ–±—ã —Ç—ã —á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∞ —Å–µ–±—è —Å–∞–º–æ–π –ª—é–±–∏–º–æ–π.\n\n" +
        "–¢—ã ‚Äî –º–æ—ë —Å–µ—Ä–¥—Ü–µ, –º–æ—è —Ä–∞–¥–æ—Å—Ç—å –∏ –º–æ—ë –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ. –ü—É—Å—Ç—å –ù–æ–≤—ã–π –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å—ë—Ç –Ω–∞–º –µ—â—ë –±–æ–ª—å—à–µ –ª—é–±–≤–∏, –Ω–µ–∂–Ω–æ—Å—Ç–∏ –∏ –≤–æ–ª—à–µ–±–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤ –≤–º–µ—Å—Ç–µ. üéÑ‚ú®\n" +
        "–° –ª—é–±–æ–≤—å—é –Ω–∞–≤—Å–µ–≥–¥–∞, –¢–µ–π–º—É—Ä–∞–∑  üíó";

      // ====== –≠–õ–ï–ú–ï–ù–¢–´ ======
      const input = document.getElementById("password-input");
      const button = document.getElementById("password-button");
      const error = document.getElementById("password-error");
      const passScreen = document.getElementById("password-screen");
      const inviteScreen = document.getElementById("invite-screen");
      const audio = document.getElementById("bg-music");

      const cdD = document.getElementById("cd-d");
      const cdH = document.getElementById("cd-h");
      const cdM = document.getElementById("cd-m");
      const cdS = document.getElementById("cd-s");

      const typeEl = document.getElementById("typewriter");
      const giftBtn = document.getElementById("gift-btn");
      const surpriseBox = document.getElementById("surprise");
      const surpriseTitle = document.getElementById("surprise-title");
      const surpriseText = document.getElementById("surprise-text");

      const confetti = document.getElementById("confetti");
      const musicToggle = document.getElementById("music-toggle");
      const musicText = document.getElementById("music-text");

      // ====== –£–¢–ò–õ–ò–¢–´ ======
      function trimValue(raw) {
        return String(raw || "").replace(/^\s+|\s+$/g, "");
      }

      // ====== –°–ù–ï–ì (–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä) ======
      function makeSnow() {
        const snow = document.getElementById("snow");
        if (!snow) return;

        const flakes = 26; // –º–æ–∂–Ω–æ –±–æ–ª—å—à–µ/–º–µ–Ω—å—à–µ
        const chars = ["‚ùÑ", "‚ùÖ", "‚ùÜ", "‚úª"];
        for (let i = 0; i < flakes; i++) {
          const s = document.createElement("span");
          const size = 10 + Math.random() * 18;
          const left = Math.random() * 100;
          const duration = 10 + Math.random() * 10;
          const delay = Math.random() * 8;
          const drift = (Math.random() * 90 - 45).toFixed(0) + "px";
          s.textContent = chars[Math.floor(Math.random() * chars.length)];
          s.style.left = left.toFixed(2) + "%";
          s.style.fontSize = size.toFixed(0) + "px";
          s.style.animationDuration = duration.toFixed(2) + "s";
          s.style.animationDelay = delay.toFixed(2) + "s";
          s.style.setProperty("--drift", drift);
          s.style.opacity = (0.35 + Math.random() * 0.6).toFixed(2);
          snow.appendChild(s);
        }
      }

      // ====== –ú–£–ó–´–ö–ê ======
      function fadeInAudio() {
        if (!audio) return;
        let current = 0;
        audio.volume = 0;

        const step = 1 / 20;
        const id = setInterval(function () {
          current = current + step;
          if (current >= 1) {
            current = 1;
            clearInterval(id);
          }
          audio.volume = current;
        }, 220);
      }

      function setMusicUI(isOn) {
        if (!musicToggle) return;
        if (isOn) {
          musicToggle.classList.remove("off");
          musicText.textContent = "–º—É–∑—ã–∫–∞ –≤–∫–ª";
        } else {
          musicToggle.classList.add("off");
          musicText.textContent = "–º—É–∑—ã–∫–∞ –≤—ã–∫–ª";
        }
      }

      function tryPlayMusic() {
        if (!audio) return;
        const p = audio.play();
        if (p && p.then) {
          p.then(function () {
            fadeInAudio();
            setMusicUI(true);
          }).catch(function () {
            // –±—Ä–∞—É–∑–µ—Ä –º–æ–≥ –∑–∞–ø—Ä–µ—Ç–∏—Ç—å autoplay ‚Äî –Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ
          });
        } else {
          fadeInAudio();
          setMusicUI(true);
        }
      }

      function toggleMusic() {
        if (!audio) return;
        if (audio.paused) {
          tryPlayMusic();
        } else {
          audio.pause();
          setMusicUI(false);
        }
      }

      if (musicToggle) {
        musicToggle.addEventListener("click", toggleMusic);
      }

      // ====== –¢–ê–ô–ú–ï–† ======
      function pad2(n) {
        n = Math.max(0, n);
        return (n < 10 ? "0" : "") + String(n);
      }

      function updateCountdown() {
        const target = new Date(EVENT_ISO);
        const now = new Date();
        let diff = target.getTime() - now.getTime();

        if (isNaN(target.getTime())) {
          cdD.textContent = "‚Äî";
          cdH.textContent = "‚Äî";
          cdM.textContent = "‚Äî";
          cdS.textContent = "‚Äî";
          return;
        }

        if (diff <= 0) {
          cdD.textContent = "0";
          cdH.textContent = "00";
          cdM.textContent = "00";
          cdS.textContent = "00";
          return;
        }

        const sec = Math.floor(diff / 1000);
        const d = Math.floor(sec / (3600 * 24));
        const h = Math.floor((sec % (3600 * 24)) / 3600);
        const m = Math.floor((sec % 3600) / 60);
        const s = Math.floor(sec % 60);

        cdD.textContent = String(d);
        cdH.textContent = pad2(h);
        cdM.textContent = pad2(m);
        cdS.textContent = pad2(s);
      }

      // ====== TYPEWRITER ======
      function typewriter(text) {
        if (!typeEl) return;
        typeEl.textContent = "";
        let i = 0;

        const cursor = document.createElement("span");
        cursor.className = "cursor";
        cursor.textContent = "‚ñç";
        typeEl.appendChild(cursor);

        const id = setInterval(function () {
          const before = typeEl.textContent.replace("‚ñç", "");
          const nextChar = text.charAt(i);
          typeEl.textContent = before + nextChar;
          typeEl.appendChild(cursor);
          i++;

          if (i >= text.length) {
            clearInterval(id);
            // –æ—Å—Ç–∞–≤–∏—Ç—å –∫—É—Ä—Å–æ—Ä –µ—â—ë —á—É—Ç—å-—á—É—Ç—å, –ø–æ—Ç–æ–º —É–±—Ä–∞—Ç—å
            setTimeout(function () {
              if (cursor && cursor.parentNode) cursor.parentNode.removeChild(cursor);
            }, 1200);
          }
        }, 22);
      }

      // ====== –°–Æ–†–ü–†–ò–ó + –ö–û–ù–§–ï–¢–¢–ò ======
      const SURPRISES = [
        { title: "–ì–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥ ‚òï", text: "–° –º–µ–Ω—è ‚Äî –≥–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥ (–∏–ª–∏ —á—Ç–æ —Ç—ã –∑–∞—Ö–æ—á–µ—à—å), —á—Ç–æ–±—ã –±—ã–ª–æ —Å–æ–≤—Å–µ–º –ø–æ‚Äë–∑–∏–º–Ω–µ–º—É." },
        { title: "–ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ–¥ –æ–≥–æ–Ω—å–∫–∞–º–∏ ‚ú®", text: "–ù–∞–π–¥—ë–º —Å–∞–º—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ –≥–∏—Ä–ª—è–Ω–¥—ã –∏ —Å–¥–µ–ª–∞–µ–º –ø–∞—Ä—É –º–∏–ª—ã—Ö —Ñ–æ—Ç–æ (–∏ –ø–∞—Ä—É —Å–æ–≤—Å–µ–º –Ω–µ—Å–µ—Ä—å—ë–∑–Ω—ã—Ö üòÑ)." },
        { title: "–¢—ë–ø–ª—ã–µ —Ä—É–∫–∏ ü§ç", text: "–ï—Å–ª–∏ –≤–¥—Ä—É–≥ –±—É–¥–µ—Ç —Ö–æ–ª–æ–¥–Ω–æ ‚Äî —É –º–µ–Ω—è –µ—Å—Ç—å –ø–ª–∞–Ω: –¥–µ—Ä–∂–∞—Ç—å —Ç–µ–±—è –∑–∞ —Ä—É–∫—É –∏ –Ω–µ –æ—Ç–ø—É—Å–∫–∞—Ç—å." },
        { title: "–¢–æ—Å—Ç –∑–∞ –Ω–∞—Å ü•Ç", text: "–ó–∞ —Ç–æ, —á—Ç–æ–±—ã —É –Ω–∞—Å –±—ã–ª–æ –±–æ–ª—å—à–µ –ø–æ–≤–æ–¥–æ–≤ —É–ª—ã–±–∞—Ç—å—Å—è ‚Äî –≤–º–µ—Å—Ç–µ." },
        { title: "–ü–µ—Å–Ω—è –≤–µ—á–µ—Ä–∞ üé∂", text: "–í—ã–±–∏—Ä–∞–µ—à—å —Ç—ã. –ò –æ–Ω–∞ –±—É–¥–µ—Ç –∞—Å—Å–æ—Ü–∏–∏—Ä–æ–≤–∞—Ç—å—Å—è —É –º–µ–Ω—è —Å —Ç–æ–±–æ–π." },
      ];

      function runConfetti() {
        if (!confetti) return;

        confetti.innerHTML = "";
        confetti.classList.add("show");

        const pieces = 26;
        const emojis = ["‚ú®","üéâ","‚ùÑÔ∏è","üíñ","üåü"];
        const w = window.innerWidth || 360;

        for (let i = 0; i < pieces; i++) {
          const el = document.createElement("i");
          el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
          const left = Math.random() * w;
          const size = 14 + Math.random() * 14;
          const duration = 2.4 + Math.random() * 1.8;
          const delay = Math.random() * 0.2;

          el.style.left = left.toFixed(0) + "px";
          el.style.fontSize = size.toFixed(0) + "px";
          el.style.animationDuration = duration.toFixed(2) + "s";
          el.style.animationDelay = delay.toFixed(2) + "s";

          confetti.appendChild(el);
        }

        // —É–±—Ä–∞—Ç—å —á–µ—Ä–µ–∑ ~3.5s
        setTimeout(function () {
          confetti.classList.remove("show");
          confetti.innerHTML = "";
        }, 3600);
      }

      function openGift() {
        const item = SURPRISES[Math.floor(Math.random() * SURPRISES.length)];
        surpriseTitle.textContent = item.title;
        surpriseText.textContent = item.text;

        surpriseBox.classList.add("show");
        runConfetti();
      }

      if (giftBtn) {
        giftBtn.addEventListener("click", openGift);
      }

      // ====== –ß–ï–ö–õ–ò–°–¢ (localStorage) ======
      const STORAGE_KEY = "ny_romantic_checklist_v1";

      function loadChecklist() {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) return {};
          return JSON.parse(raw) || {};
        } catch (e) {
          return {};
        }
      }

      function saveChecklist(obj) {
        try {
          localStorage.setItem(STORAGE_KEY, JSON.stringify(obj));
        } catch (e) {}
      }

      function initChecklist() {
        const saved = loadChecklist();
        const inputs = document.querySelectorAll('.checklist input[type="checkbox"][data-key]');
        inputs.forEach(function (cb) {
          const k = cb.getAttribute("data-key");
          cb.checked = !!saved[k];
          cb.addEventListener("change", function () {
            const now = loadChecklist();
            now[k] = cb.checked;
            saveChecklist(now);
          });
        });
      }

      // ====== –†–ê–ó–ë–õ–û–ö–ò–†–û–í–ö–ê ======
      function unlock() {
        const value = trimValue(input.value);

        if (value === PASS) {
          error.textContent = "";
          passScreen.classList.add("hidden");
          inviteScreen.classList.remove("hidden");
          document.body.classList.add("invite-visible");
          window.scrollTo({ top: 0, behavior: "smooth" });

          // –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∫–ª–∏–∫–∞ –ø–∞—Ä–æ–ª—å —É–∂–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è "user gesture" ‚Äî –º–æ–∂–Ω–æ –ø—Ä–æ–±–æ–≤–∞—Ç—å –∏–≥—Ä–∞—Ç—å –º—É–∑—ã–∫—É
          tryPlayMusic();

          // –∑–∞–ø—É—Å–∫–∞–µ–º –ø–∏—Å—å–º–æ + —Ç–∞–π–º–µ—Ä + —á–µ–∫–ª–∏—Å—Ç
          typewriter(LETTER_TEXT);
          updateCountdown();
          setInterval(updateCountdown, 1000);

          initChecklist();
        } else {
          error.textContent = "–ü–æ—á—Ç–∏, –Ω–æ –Ω–µ—Ç! –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ üíï";
          passScreen.classList.add("shake");
          setTimeout(function () {
            passScreen.classList.remove("shake");
          }, 450);
        }
      }

      // ====== –°–¢–ê–†–¢ ======
      makeSnow();
      setMusicUI(false);

      button.addEventListener("click", unlock);
      input.addEventListener("keydown", function (e) {
        if (e.key === "Enter") unlock();
      });

    })();
  </script>
</body>
</html>
